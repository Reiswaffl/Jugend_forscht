#: import FadeTransition kivy.uix.screenmanager.FadeTransition

ScreenManagement:
    transition: FadeTransition()
    TestScreen2:
    MainScreen:
    Numpad:
    Word:
    Calculator:
    Spotify:

<MainScreen>:
    id: mainScreen
    name: "main"
    canvas.before:
        Rectangle:
            source:"sources/background/11.png"
            size: self.size
            pos: self.pos
    GridLayout:
        cols: 1
        Button:
            background_color: (1.0, 1.0, 1.0, 0.5)
            text: "switch"
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = root.Switch()
            size_hint: 1, .1
        GridLayout:
            rows: 1
            Image:
			    source: 'sources/icons/tw.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('opentw')
            Image:
                source: 'sources/icons/yt.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('openyt')

<TestScreen2>:
    id: testscreen2
    name: "testscreen2"
    canvas.before:
        Rectangle:
            source:"sources/background/11.png"
            size: self.size
            pos: self.pos
    GridLayout:
        cols: 1
        Button:
            background_color: 1.0, 1.0, 1.0, 0.5
            size_hint: 1, .1
            text: "switch"
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = root.Switch()
        GridLayout:
            rows: 3
            Image:
                source: 'sources/icons/word.png'
                on_touch_down: if self.collide_point(*args[1].pos): app.root.current = 'Word'
            Image:
                source: 'sources/icons/stick.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('opensticky')
            Image:
                source: 'sources/icons/calendar3.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('opencalendar')
            Image:
                source: 'sources/icons/mail.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('openmail')
            Image:
                source: 'sources/icons/chrome.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('openchrome')
            Image:
                source: 'sources/icons/spot.png'
                on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "Spotify"
            Image:
                source: 'sources/icons/numpad.png'
                on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "Numpad"
            Image:
                source: 'sources/icons/calculator.png'
                on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "Calculator"
            Image:
                source: 'sources/icons/copy.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('copy')
            Image:
                source: 'sources/icons/paste.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('paste')
            Image:
                source: 'sources/icons/cut.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('cut')
            Image:
                source: 'sources/icons/screen.png'
                on_touch_down: if self.collide_point(*args[1].pos): root.writeshortcut('takescreen')


# ________________________ APPS __________________________
##########################################################
# ________________________________________________________

# _______ CALCULATOR ________
<Calculator>:
    name: "Calculator"
    canvas.before:
        Rectangle:
            source: 'sources/calculator/background.png'
            size: self.size
            pos: self.pos
	GridLayout:
	    cols: 6
        Image:
            source: 'sources/calculator/1.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(1)
        Image:
            source: 'sources/calculator/2.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(2)
        Image:
            source: 'sources/calculator/3.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(3)
        Image:
            source: 'sources/calculator/space.png'
        Image:
            source: 'sources/calculator/space.png'
        Image:
            source: 'sources/calculator/esc.png'
            on_touch_down: if self.collide_point(*args[1].pos):	app.root.current = root.getHome()
        Image:
            source: 'sources/calculator/4.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(4)
        Image:
            source: 'sources/calculator/5.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(5)
        Image:
            source: 'sources/calculator/6.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(6)
        Image:
            source: 'sources/calculator/space.png'
        Label:
            canvas.before:
                Color:
                    rgba: 1,1,1,.2
                Rectangle:
                    size: 100,50
                    pos: self.x+96,self.y+50
            size_hint_x: 2
            text: root.text
            color: 1, 1, 1, 1
        Image:
		    source: 'sources/calculator/c.png'
		    on_touch_down: if self.collide_point(*args[1].pos): root.reset()
        Image:
            source: 'sources/calculator/7.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(7)
        Image:
            source: 'sources/calculator/8.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(8)
        Image:
            source: 'sources/calculator/9.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(9)
		Image:
			source: 'sources/calculator/multiply.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("*")
		Image:
			source: 'sources/calculator/divide.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("/")
	    Image:
            source: 'sources/calculator/space.png'
        Image:
            source: 'sources/calculator/space.png'
		Image:
			source: 'sources/calculator/0.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.calculate(0)
	    Image:
            source: 'sources/calculator/comma.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(14)
        Image:
			source: 'sources/calculator/plus.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("+")
        Image:
			source: 'sources/calculator/minus.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("-")
        Image:
			source: 'sources/calculator/equals.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.giveresult()

# ________ NUMBPAD ________
<Numpad>:
    name: "Numpad"
    canvas.before:
        Rectangle:
            source: 'sources/numpad/background.png'
            size: self.size
            pos: self.pos
    GridLayout:
        cols: 5
        Image:
            source: 'sources/numpad/space.png'
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = root.getHome()
        Image:
            source: 'sources/numpad/slash.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('/')
        Image:
            source: 'sources/numpad/star.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('*')
        Image:
            source: 'sources/numpad/minus.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('-')
        Image:
            source: 'sources/numpad/esc.png'
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = root.getHome()
        Image:
            source: 'sources/numpad/7.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('7')
        Image:
            source: 'sources/numpad/8.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('8')
        Image:
            source: 'sources/numpad/9.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('9')
        Image:
            source: 'sources/numpad/plus.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('+')
        Image:
            source: 'sources/numpad/space.png'
        Image:
            source: 'sources/numpad/4.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('4')
        Image:
            source: 'sources/numpad/5.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('5')
        Image:
            source: 'sources/numpad/6.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('6')
        Image:
            source: 'sources/numpad/enter_up.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.sendSH('enter')
        Image:
            source: 'sources/numpad/space.png'
        Image:
            source: 'sources/numpad/1.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('1')
        Image:
            source: 'sources/numpad/2.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('2')
        Image:
            source: 'sources/numpad/3.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('3')
        Image:
            source: 'sources/numpad/enter_low.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.sendSH('enter')
        Image:
            source: 'sources/numpad/space.png'
        Image:
            source: 'sources/numpad/0.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('0')
        Image:
            source: 'sources/numpad/space.png'
        Image:
            source: 'sources/numpad/point.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send('.')

# ________ SPOTIFY ________
<Spotify>:
    name: "Spotify"
    id: Spotify
    canvas.before:
        Rectangle:
            source: 'sources/spotify/background.png'
            size: self.size
            pos: self.pos
    GridLayout:
        cols: 1
        GridLayout:
            rows: 1
            size_hint_y: 0.5
            Image:
                source: 'sources/spotify/logo.png'
                size_hint_x: 1
            Image:
                source: 'sources/spotify/space.png'
            Label:
                text: root.getTitle()
                font_size: '50sp'
            Image:
                source: 'sources/spotify/space.png'
            Image:
                source: 'sources/spotify/esc.png'
                on_touch_down: if self.collide_point(*args[1].pos): app.root.current = root.getHome()
                size_hint_y: 0.8
        GridLayout:
            rows: 1
            Image:
                source: 'sources/spotify/artist.png'
                size_hint_x: 0.4
                allow_stretch: True
            GridLayout:
                cols: 1
                GridLayout:
                    rows: 1
                    Image:
                        source: 'sources/spotify/back.png'
                        on_touch_down: if self.collide_point(*args[1].pos): root.back()
                    Image:
                        source: 'sources/spotify/play.png'
                        id: playButton
                        on_touch_down: if self.collide_point(*args[1].pos): root.playPause()
                    Image:
                        source: 'sources/spotify/fwrd.png'
                        on_touch_down: if self.collide_point(*args[1].pos): root.forward()
                    Image:
                        source: 'sources/spotify/space.png'
                GridLayout:
                    padding: 0
                    rows: 1
                    size_hint_y: 0.5
                    Image:
                        source: 'sources/spotify/volume.png'
                        size_hint_x: 0.5
                    Slider:
                        cursor_image: 'sources/spotify/pull.png'
                        cursor_size: '25sp', '25sp'
                        size_hint_x: 0.7
                        value: root.getVolume()
                        range: 0, 100
                        step: 1
                        value_track: True
                        value_track_color: 0.2, 0.5, 0.1, 1.0
                    Image:
                        source: 'sources/spotify/space.png'
        GridLayout:
            rows: 1
            size_hint_y: 0.7
            Image:
                source: 'sources/spotify/space.png'
                size_hint_x: 0.7
            Slider:
                cursor_image: 'sources/spotify/pull.png'
                cursor_size: '16sp', '16sp'
                size_hint_x: 4.5
                value: root.getValue()
                value_track: True
                value_track_color: 0.2, 0.5, 0.1, 1.0
                value_track_width: '3dp'
                step: root.getStep()
                range: root.getRange()
            Image:
                source: 'sources/spotify/space.png'
                size_hint_x: 0.7

# ________ WORD _________
<Word>:
    name: 'Word'
    id: Word
    canvas.before:
        Rectangle:
            source: 'sources/word/background.png'
            size: self.size
            pos: self.pos
    FloatLayout:
        Button:
            id: bttn_italic
            pos: 100, 100
            size_hint: 0.1, 0.2
            background_color: 1, 1, 1, 0
            on_press: root.pressed('kursiv')
        Button:
            id: bttn_bold
            pos: 0, 100
            size_hint: 0.1, 0.2
            background_color: 1, 1, 1, 0
            on_press: root.pressed('fett')
        Button:
            id: bttn_underline
            pos: 200, 100
            size_hint: 0.1, 0.2
            background_color: 1, 1, 1, 0
            on_press: root.pressed('unterstrichen')
        Button:
            id: bttn_esc
            pos: 910, 500
            size_hint: 0.1, 0.2
            background_color: 1, 1, 1, 0
            on_press: app.root.current = root.getHome()
