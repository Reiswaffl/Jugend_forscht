#: import FadeTransition kivy.uix.screenmanager.FadeTransition

ScreenManagement:
    transition: FadeTransition()
    MainScreen:
    Calculator:
    Numpad:

<MainScreen>:
    id: mainScreen
    name: "main"
    GridLayout:
        rows: 1
        Image:
            source: 'shortcuts/copy.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("m1")
        Image:
            source: 'shortcuts/paste.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("m2")
        Image:
			source: 'shortcuts/numpad.png'
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "Numpad"
        Image:
            source: 'shortcuts/calculator.png'
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "calculator"

<Calculator>:
    name: "calculator"
	GridLayout:
	    cols: 6
	    canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Image:
            source: 'calculator/1.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(1)
        Image:
            source: 'calculator/2.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(2)
        Image:
            source: 'calculator/3.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(3)
        Image:
            source: 'calculator/space.png'
        Image:
            source: 'calculator/space.png'
        Image:
            source: 'calculator/esc.png'
            on_touch_down: if self.collide_point(*args[1].pos):	app.root.current = "main"; app.root.reset()
        Image:
            source: 'calculator/4.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(4)
        Image:
            source: 'calculator/5.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(5)
        Image:
            source: 'calculator/6.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(6)
        Image:
            source: 'calculator/space.png'
        Label:
            canvas.before:
                Color:
                    rgba: 0,0,0,.3
                Rectangle:
                    size: 100,50
                    pos: self.x+96,self.y+50
            size_hint_x: 2
            text: root.text
        Image:
		    source: 'calculator/c.png'
		    on_touch_down: if self.collide_point(*args[1].pos): root.reset()
        Image:
            source: 'calculator/7.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(7)
        Image:
            source: 'calculator/8.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(8)
        Image:
            source: 'calculator/9.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(9)

		Image:
			source: 'calculator/times.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("*")
		Image:
			source: 'calculator/divide.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("/")
	    Image:
            source: 'calculator/space.png'
        Image:
            source: 'calculator/space.png'
		Image:
			source: 'calculator/0.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.calculate(0)
	    Image:
            source: 'calculator/comma.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.calculate(14)
        Image:
			source: 'calculator/plus.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("+")
        Image:
			source: 'calculator/minus.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.changeoperator("-")
        Image:
			source: 'calculator/equals.png'
			on_touch_down: if self.collide_point(*args[1].pos): root.giveresult()


<Numpad>:
    name: "Numpad"
    GridLayout:
        cols: 5
        #height: 200
        #spacing: 5, 5
        #orientation: 'lr-tb'
        Image:
            source: 'numpad/esc.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): app.root.current = "main"; app.root.reset()
        Image:
            source: 'numpad/slash.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n1")
        Image:
            source: 'numpad/star.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n2")
        Image:
            source: 'numpad/minus.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n3")
        Image:
            source: 'numpad/space.png'
        Image:
            source: 'numpad/7.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n4")
        Image:
            source: 'numpad/8.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n5")
        Image:
            source: 'numpad/9.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n6")
        Image:
            source: 'numpad/plus.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n7")
        Image:
            source: 'numpad/space.png'
        Image:
            source: 'numpad/4.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n8")
        Image:
            source: 'numpad/5.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n9")
        Image:
            source: 'numpad/6.jpeg'
            #size: 128, 128
            #size_hint: None, None
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n10")
        Image:
            source: 'numpad/space.png'
        Image:
            source: 'numpad/space.png'
        Image:
            source: 'numpad/1.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n11")
        Image:
            source: 'numpad/2.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n12")
        Image:
            source: 'numpad/3.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n13")
        Image:
            source: 'numpad/enter.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n14")
        Image:
            source: 'numpad/space.png'
        Image:
            source: 'numpad/0.png'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n15")
        Image:
            source: 'numpad/space.png'
        Image:
            source: 'numpad/point.jpeg'
            on_touch_down: if self.collide_point(*args[1].pos): root.send("n16")
